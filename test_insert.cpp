#include <gtest/gtest.h>

#include <vector>

#include "rangeset.h"

static HyoutaUtilities::RangeSet<size_t> r(std::vector<size_t> v) {
  HyoutaUtilities::RangeSet<size_t> rs;
  for (size_t i = 1; i < v.size(); i += 2) {
    rs.insert(v[i - 1], v[i]);
  }
  return rs;
}

class InsertTest : public ::testing::Test {
public:
  HyoutaUtilities::RangeSet<size_t> rs;

  void SetUp() override {
    rs.insert(10, 20);
    rs.insert(21, 30);
    rs.insert(50, 65);
    rs.insert(70, 71);
    rs.insert(75, 90);
    ASSERT_TRUE(rs.size() == 5);
  }

  HyoutaUtilities::RangeSet<size_t> with(size_t from, size_t to) {
    HyoutaUtilities::RangeSet<size_t> tmp = rs;
    tmp.insert(from, to);
    return tmp;
  }
};

TEST_F(InsertTest, Tests) {
  // std::vector<size_t> a = {5,  8,  10, 14, 15, 20, 21, 25, 28, 30, 35, 40, 45, 50, 55,
  //                          60, 65, 67, 68, 70, 71, 72, 73, 75, 80, 85, 90, 95, 100};
  EXPECT_TRUE(with(5, 8) == r({5, 8, 10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 10) == r({5, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 14) == r({5, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 15) == r({5, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 20) == r({5, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 21) == r({5, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 25) == r({5, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 28) == r({5, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 30) == r({5, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 35) == r({5, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 40) == r({5, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 45) == r({5, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 50) == r({5, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 55) == r({5, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 60) == r({5, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 65) == r({5, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 67) == r({5, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 68) == r({5, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(5, 70) == r({5, 71, 75, 90}));
  EXPECT_TRUE(with(5, 71) == r({5, 71, 75, 90}));
  EXPECT_TRUE(with(5, 72) == r({5, 72, 75, 90}));
  EXPECT_TRUE(with(5, 73) == r({5, 73, 75, 90}));
  EXPECT_TRUE(with(5, 75) == r({5, 90}));
  EXPECT_TRUE(with(5, 80) == r({5, 90}));
  EXPECT_TRUE(with(5, 85) == r({5, 90}));
  EXPECT_TRUE(with(5, 90) == r({5, 90}));
  EXPECT_TRUE(with(5, 95) == r({5, 95}));
  EXPECT_TRUE(with(5, 100) == r({5, 100}));
  EXPECT_TRUE(with(8, 10) == r({8, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 14) == r({8, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 15) == r({8, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 20) == r({8, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 21) == r({8, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 25) == r({8, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 28) == r({8, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 30) == r({8, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 35) == r({8, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 40) == r({8, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 45) == r({8, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 50) == r({8, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 55) == r({8, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 60) == r({8, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 65) == r({8, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 67) == r({8, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 68) == r({8, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(8, 70) == r({8, 71, 75, 90}));
  EXPECT_TRUE(with(8, 71) == r({8, 71, 75, 90}));
  EXPECT_TRUE(with(8, 72) == r({8, 72, 75, 90}));
  EXPECT_TRUE(with(8, 73) == r({8, 73, 75, 90}));
  EXPECT_TRUE(with(8, 75) == r({8, 90}));
  EXPECT_TRUE(with(8, 80) == r({8, 90}));
  EXPECT_TRUE(with(8, 85) == r({8, 90}));
  EXPECT_TRUE(with(8, 90) == r({8, 90}));
  EXPECT_TRUE(with(8, 95) == r({8, 95}));
  EXPECT_TRUE(with(8, 100) == r({8, 100}));
  EXPECT_TRUE(with(10, 14) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 15) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 20) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 21) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 25) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 28) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 30) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 35) == r({10, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 40) == r({10, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 45) == r({10, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 50) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 55) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 60) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 65) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 67) == r({10, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 68) == r({10, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(10, 70) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(10, 71) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(10, 72) == r({10, 72, 75, 90}));
  EXPECT_TRUE(with(10, 73) == r({10, 73, 75, 90}));
  EXPECT_TRUE(with(10, 75) == r({10, 90}));
  EXPECT_TRUE(with(10, 80) == r({10, 90}));
  EXPECT_TRUE(with(10, 85) == r({10, 90}));
  EXPECT_TRUE(with(10, 90) == r({10, 90}));
  EXPECT_TRUE(with(10, 95) == r({10, 95}));
  EXPECT_TRUE(with(10, 100) == r({10, 100}));
  EXPECT_TRUE(with(14, 15) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 20) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 21) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 25) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 28) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 30) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 35) == r({10, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 40) == r({10, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 45) == r({10, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 50) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 55) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 60) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 65) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 67) == r({10, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 68) == r({10, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(14, 70) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(14, 71) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(14, 72) == r({10, 72, 75, 90}));
  EXPECT_TRUE(with(14, 73) == r({10, 73, 75, 90}));
  EXPECT_TRUE(with(14, 75) == r({10, 90}));
  EXPECT_TRUE(with(14, 80) == r({10, 90}));
  EXPECT_TRUE(with(14, 85) == r({10, 90}));
  EXPECT_TRUE(with(14, 90) == r({10, 90}));
  EXPECT_TRUE(with(14, 95) == r({10, 95}));
  EXPECT_TRUE(with(14, 100) == r({10, 100}));
  EXPECT_TRUE(with(15, 20) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 21) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 25) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 28) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 30) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 35) == r({10, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 40) == r({10, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 45) == r({10, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 50) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 55) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 60) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 65) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 67) == r({10, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 68) == r({10, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(15, 70) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(15, 71) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(15, 72) == r({10, 72, 75, 90}));
  EXPECT_TRUE(with(15, 73) == r({10, 73, 75, 90}));
  EXPECT_TRUE(with(15, 75) == r({10, 90}));
  EXPECT_TRUE(with(15, 80) == r({10, 90}));
  EXPECT_TRUE(with(15, 85) == r({10, 90}));
  EXPECT_TRUE(with(15, 90) == r({10, 90}));
  EXPECT_TRUE(with(15, 95) == r({10, 95}));
  EXPECT_TRUE(with(15, 100) == r({10, 100}));
  EXPECT_TRUE(with(20, 21) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 25) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 28) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 30) == r({10, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 35) == r({10, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 40) == r({10, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 45) == r({10, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 50) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 55) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 60) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 65) == r({10, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 67) == r({10, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 68) == r({10, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(20, 70) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(20, 71) == r({10, 71, 75, 90}));
  EXPECT_TRUE(with(20, 72) == r({10, 72, 75, 90}));
  EXPECT_TRUE(with(20, 73) == r({10, 73, 75, 90}));
  EXPECT_TRUE(with(20, 75) == r({10, 90}));
  EXPECT_TRUE(with(20, 80) == r({10, 90}));
  EXPECT_TRUE(with(20, 85) == r({10, 90}));
  EXPECT_TRUE(with(20, 90) == r({10, 90}));
  EXPECT_TRUE(with(20, 95) == r({10, 95}));
  EXPECT_TRUE(with(20, 100) == r({10, 100}));
  EXPECT_TRUE(with(21, 25) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 28) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 30) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 35) == r({10, 20, 21, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 40) == r({10, 20, 21, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 45) == r({10, 20, 21, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 50) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 55) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 60) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 65) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 67) == r({10, 20, 21, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 68) == r({10, 20, 21, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(21, 70) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(21, 71) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(21, 72) == r({10, 20, 21, 72, 75, 90}));
  EXPECT_TRUE(with(21, 73) == r({10, 20, 21, 73, 75, 90}));
  EXPECT_TRUE(with(21, 75) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(21, 80) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(21, 85) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(21, 90) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(21, 95) == r({10, 20, 21, 95}));
  EXPECT_TRUE(with(21, 100) == r({10, 20, 21, 100}));
  EXPECT_TRUE(with(25, 28) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 30) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 35) == r({10, 20, 21, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 40) == r({10, 20, 21, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 45) == r({10, 20, 21, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 50) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 55) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 60) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 65) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 67) == r({10, 20, 21, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 68) == r({10, 20, 21, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(25, 70) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(25, 71) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(25, 72) == r({10, 20, 21, 72, 75, 90}));
  EXPECT_TRUE(with(25, 73) == r({10, 20, 21, 73, 75, 90}));
  EXPECT_TRUE(with(25, 75) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(25, 80) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(25, 85) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(25, 90) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(25, 95) == r({10, 20, 21, 95}));
  EXPECT_TRUE(with(25, 100) == r({10, 20, 21, 100}));
  EXPECT_TRUE(with(28, 30) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 35) == r({10, 20, 21, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 40) == r({10, 20, 21, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 45) == r({10, 20, 21, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 50) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 55) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 60) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 65) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 67) == r({10, 20, 21, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 68) == r({10, 20, 21, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(28, 70) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(28, 71) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(28, 72) == r({10, 20, 21, 72, 75, 90}));
  EXPECT_TRUE(with(28, 73) == r({10, 20, 21, 73, 75, 90}));
  EXPECT_TRUE(with(28, 75) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(28, 80) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(28, 85) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(28, 90) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(28, 95) == r({10, 20, 21, 95}));
  EXPECT_TRUE(with(28, 100) == r({10, 20, 21, 100}));
  EXPECT_TRUE(with(30, 35) == r({10, 20, 21, 35, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 40) == r({10, 20, 21, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 45) == r({10, 20, 21, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 50) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 55) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 60) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 65) == r({10, 20, 21, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 67) == r({10, 20, 21, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 68) == r({10, 20, 21, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(30, 70) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(30, 71) == r({10, 20, 21, 71, 75, 90}));
  EXPECT_TRUE(with(30, 72) == r({10, 20, 21, 72, 75, 90}));
  EXPECT_TRUE(with(30, 73) == r({10, 20, 21, 73, 75, 90}));
  EXPECT_TRUE(with(30, 75) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(30, 80) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(30, 85) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(30, 90) == r({10, 20, 21, 90}));
  EXPECT_TRUE(with(30, 95) == r({10, 20, 21, 95}));
  EXPECT_TRUE(with(30, 100) == r({10, 20, 21, 100}));
  EXPECT_TRUE(with(35, 40) == r({10, 20, 21, 30, 35, 40, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 45) == r({10, 20, 21, 30, 35, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 50) == r({10, 20, 21, 30, 35, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 55) == r({10, 20, 21, 30, 35, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 60) == r({10, 20, 21, 30, 35, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 65) == r({10, 20, 21, 30, 35, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 67) == r({10, 20, 21, 30, 35, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 68) == r({10, 20, 21, 30, 35, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(35, 70) == r({10, 20, 21, 30, 35, 71, 75, 90}));
  EXPECT_TRUE(with(35, 71) == r({10, 20, 21, 30, 35, 71, 75, 90}));
  EXPECT_TRUE(with(35, 72) == r({10, 20, 21, 30, 35, 72, 75, 90}));
  EXPECT_TRUE(with(35, 73) == r({10, 20, 21, 30, 35, 73, 75, 90}));
  EXPECT_TRUE(with(35, 75) == r({10, 20, 21, 30, 35, 90}));
  EXPECT_TRUE(with(35, 80) == r({10, 20, 21, 30, 35, 90}));
  EXPECT_TRUE(with(35, 85) == r({10, 20, 21, 30, 35, 90}));
  EXPECT_TRUE(with(35, 90) == r({10, 20, 21, 30, 35, 90}));
  EXPECT_TRUE(with(35, 95) == r({10, 20, 21, 30, 35, 95}));
  EXPECT_TRUE(with(35, 100) == r({10, 20, 21, 30, 35, 100}));
  EXPECT_TRUE(with(40, 45) == r({10, 20, 21, 30, 40, 45, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 50) == r({10, 20, 21, 30, 40, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 55) == r({10, 20, 21, 30, 40, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 60) == r({10, 20, 21, 30, 40, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 65) == r({10, 20, 21, 30, 40, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 67) == r({10, 20, 21, 30, 40, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 68) == r({10, 20, 21, 30, 40, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(40, 70) == r({10, 20, 21, 30, 40, 71, 75, 90}));
  EXPECT_TRUE(with(40, 71) == r({10, 20, 21, 30, 40, 71, 75, 90}));
  EXPECT_TRUE(with(40, 72) == r({10, 20, 21, 30, 40, 72, 75, 90}));
  EXPECT_TRUE(with(40, 73) == r({10, 20, 21, 30, 40, 73, 75, 90}));
  EXPECT_TRUE(with(40, 75) == r({10, 20, 21, 30, 40, 90}));
  EXPECT_TRUE(with(40, 80) == r({10, 20, 21, 30, 40, 90}));
  EXPECT_TRUE(with(40, 85) == r({10, 20, 21, 30, 40, 90}));
  EXPECT_TRUE(with(40, 90) == r({10, 20, 21, 30, 40, 90}));
  EXPECT_TRUE(with(40, 95) == r({10, 20, 21, 30, 40, 95}));
  EXPECT_TRUE(with(40, 100) == r({10, 20, 21, 30, 40, 100}));
  EXPECT_TRUE(with(45, 50) == r({10, 20, 21, 30, 45, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(45, 55) == r({10, 20, 21, 30, 45, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(45, 60) == r({10, 20, 21, 30, 45, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(45, 65) == r({10, 20, 21, 30, 45, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(45, 67) == r({10, 20, 21, 30, 45, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(45, 68) == r({10, 20, 21, 30, 45, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(45, 70) == r({10, 20, 21, 30, 45, 71, 75, 90}));
  EXPECT_TRUE(with(45, 71) == r({10, 20, 21, 30, 45, 71, 75, 90}));
  EXPECT_TRUE(with(45, 72) == r({10, 20, 21, 30, 45, 72, 75, 90}));
  EXPECT_TRUE(with(45, 73) == r({10, 20, 21, 30, 45, 73, 75, 90}));
  EXPECT_TRUE(with(45, 75) == r({10, 20, 21, 30, 45, 90}));
  EXPECT_TRUE(with(45, 80) == r({10, 20, 21, 30, 45, 90}));
  EXPECT_TRUE(with(45, 85) == r({10, 20, 21, 30, 45, 90}));
  EXPECT_TRUE(with(45, 90) == r({10, 20, 21, 30, 45, 90}));
  EXPECT_TRUE(with(45, 95) == r({10, 20, 21, 30, 45, 95}));
  EXPECT_TRUE(with(45, 100) == r({10, 20, 21, 30, 45, 100}));
  EXPECT_TRUE(with(50, 55) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(50, 60) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(50, 65) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(50, 67) == r({10, 20, 21, 30, 50, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(50, 68) == r({10, 20, 21, 30, 50, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(50, 70) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(50, 71) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(50, 72) == r({10, 20, 21, 30, 50, 72, 75, 90}));
  EXPECT_TRUE(with(50, 73) == r({10, 20, 21, 30, 50, 73, 75, 90}));
  EXPECT_TRUE(with(50, 75) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(50, 80) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(50, 85) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(50, 90) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(50, 95) == r({10, 20, 21, 30, 50, 95}));
  EXPECT_TRUE(with(50, 100) == r({10, 20, 21, 30, 50, 100}));
  EXPECT_TRUE(with(55, 60) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(55, 65) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(55, 67) == r({10, 20, 21, 30, 50, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(55, 68) == r({10, 20, 21, 30, 50, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(55, 70) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(55, 71) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(55, 72) == r({10, 20, 21, 30, 50, 72, 75, 90}));
  EXPECT_TRUE(with(55, 73) == r({10, 20, 21, 30, 50, 73, 75, 90}));
  EXPECT_TRUE(with(55, 75) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(55, 80) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(55, 85) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(55, 90) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(55, 95) == r({10, 20, 21, 30, 50, 95}));
  EXPECT_TRUE(with(55, 100) == r({10, 20, 21, 30, 50, 100}));
  EXPECT_TRUE(with(60, 65) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(60, 67) == r({10, 20, 21, 30, 50, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(60, 68) == r({10, 20, 21, 30, 50, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(60, 70) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(60, 71) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(60, 72) == r({10, 20, 21, 30, 50, 72, 75, 90}));
  EXPECT_TRUE(with(60, 73) == r({10, 20, 21, 30, 50, 73, 75, 90}));
  EXPECT_TRUE(with(60, 75) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(60, 80) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(60, 85) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(60, 90) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(60, 95) == r({10, 20, 21, 30, 50, 95}));
  EXPECT_TRUE(with(60, 100) == r({10, 20, 21, 30, 50, 100}));
  EXPECT_TRUE(with(65, 67) == r({10, 20, 21, 30, 50, 67, 70, 71, 75, 90}));
  EXPECT_TRUE(with(65, 68) == r({10, 20, 21, 30, 50, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(65, 70) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(65, 71) == r({10, 20, 21, 30, 50, 71, 75, 90}));
  EXPECT_TRUE(with(65, 72) == r({10, 20, 21, 30, 50, 72, 75, 90}));
  EXPECT_TRUE(with(65, 73) == r({10, 20, 21, 30, 50, 73, 75, 90}));
  EXPECT_TRUE(with(65, 75) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(65, 80) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(65, 85) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(65, 90) == r({10, 20, 21, 30, 50, 90}));
  EXPECT_TRUE(with(65, 95) == r({10, 20, 21, 30, 50, 95}));
  EXPECT_TRUE(with(65, 100) == r({10, 20, 21, 30, 50, 100}));
  EXPECT_TRUE(with(67, 68) == r({10, 20, 21, 30, 50, 65, 67, 68, 70, 71, 75, 90}));
  EXPECT_TRUE(with(67, 70) == r({10, 20, 21, 30, 50, 65, 67, 71, 75, 90}));
  EXPECT_TRUE(with(67, 71) == r({10, 20, 21, 30, 50, 65, 67, 71, 75, 90}));
  EXPECT_TRUE(with(67, 72) == r({10, 20, 21, 30, 50, 65, 67, 72, 75, 90}));
  EXPECT_TRUE(with(67, 73) == r({10, 20, 21, 30, 50, 65, 67, 73, 75, 90}));
  EXPECT_TRUE(with(67, 75) == r({10, 20, 21, 30, 50, 65, 67, 90}));
  EXPECT_TRUE(with(67, 80) == r({10, 20, 21, 30, 50, 65, 67, 90}));
  EXPECT_TRUE(with(67, 85) == r({10, 20, 21, 30, 50, 65, 67, 90}));
  EXPECT_TRUE(with(67, 90) == r({10, 20, 21, 30, 50, 65, 67, 90}));
  EXPECT_TRUE(with(67, 95) == r({10, 20, 21, 30, 50, 65, 67, 95}));
  EXPECT_TRUE(with(67, 100) == r({10, 20, 21, 30, 50, 65, 67, 100}));
  EXPECT_TRUE(with(68, 70) == r({10, 20, 21, 30, 50, 65, 68, 71, 75, 90}));
  EXPECT_TRUE(with(68, 71) == r({10, 20, 21, 30, 50, 65, 68, 71, 75, 90}));
  EXPECT_TRUE(with(68, 72) == r({10, 20, 21, 30, 50, 65, 68, 72, 75, 90}));
  EXPECT_TRUE(with(68, 73) == r({10, 20, 21, 30, 50, 65, 68, 73, 75, 90}));
  EXPECT_TRUE(with(68, 75) == r({10, 20, 21, 30, 50, 65, 68, 90}));
  EXPECT_TRUE(with(68, 80) == r({10, 20, 21, 30, 50, 65, 68, 90}));
  EXPECT_TRUE(with(68, 85) == r({10, 20, 21, 30, 50, 65, 68, 90}));
  EXPECT_TRUE(with(68, 90) == r({10, 20, 21, 30, 50, 65, 68, 90}));
  EXPECT_TRUE(with(68, 95) == r({10, 20, 21, 30, 50, 65, 68, 95}));
  EXPECT_TRUE(with(68, 100) == r({10, 20, 21, 30, 50, 65, 68, 100}));
  EXPECT_TRUE(with(70, 71) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(70, 72) == r({10, 20, 21, 30, 50, 65, 70, 72, 75, 90}));
  EXPECT_TRUE(with(70, 73) == r({10, 20, 21, 30, 50, 65, 70, 73, 75, 90}));
  EXPECT_TRUE(with(70, 75) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(70, 80) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(70, 85) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(70, 90) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(70, 95) == r({10, 20, 21, 30, 50, 65, 70, 95}));
  EXPECT_TRUE(with(70, 100) == r({10, 20, 21, 30, 50, 65, 70, 100}));
  EXPECT_TRUE(with(71, 72) == r({10, 20, 21, 30, 50, 65, 70, 72, 75, 90}));
  EXPECT_TRUE(with(71, 73) == r({10, 20, 21, 30, 50, 65, 70, 73, 75, 90}));
  EXPECT_TRUE(with(71, 75) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(71, 80) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(71, 85) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(71, 90) == r({10, 20, 21, 30, 50, 65, 70, 90}));
  EXPECT_TRUE(with(71, 95) == r({10, 20, 21, 30, 50, 65, 70, 95}));
  EXPECT_TRUE(with(71, 100) == r({10, 20, 21, 30, 50, 65, 70, 100}));
  EXPECT_TRUE(with(72, 73) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 73, 75, 90}));
  EXPECT_TRUE(with(72, 75) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 90}));
  EXPECT_TRUE(with(72, 80) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 90}));
  EXPECT_TRUE(with(72, 85) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 90}));
  EXPECT_TRUE(with(72, 90) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 90}));
  EXPECT_TRUE(with(72, 95) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 95}));
  EXPECT_TRUE(with(72, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 72, 100}));
  EXPECT_TRUE(with(73, 75) == r({10, 20, 21, 30, 50, 65, 70, 71, 73, 90}));
  EXPECT_TRUE(with(73, 80) == r({10, 20, 21, 30, 50, 65, 70, 71, 73, 90}));
  EXPECT_TRUE(with(73, 85) == r({10, 20, 21, 30, 50, 65, 70, 71, 73, 90}));
  EXPECT_TRUE(with(73, 90) == r({10, 20, 21, 30, 50, 65, 70, 71, 73, 90}));
  EXPECT_TRUE(with(73, 95) == r({10, 20, 21, 30, 50, 65, 70, 71, 73, 95}));
  EXPECT_TRUE(with(73, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 73, 100}));
  EXPECT_TRUE(with(75, 80) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(75, 85) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(75, 90) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(75, 95) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 95}));
  EXPECT_TRUE(with(75, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 100}));
  EXPECT_TRUE(with(80, 85) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(80, 90) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(80, 95) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 95}));
  EXPECT_TRUE(with(80, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 100}));
  EXPECT_TRUE(with(85, 90) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90}));
  EXPECT_TRUE(with(85, 95) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 95}));
  EXPECT_TRUE(with(85, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 100}));
  EXPECT_TRUE(with(90, 95) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 95}));
  EXPECT_TRUE(with(90, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 100}));
  EXPECT_TRUE(with(95, 100) == r({10, 20, 21, 30, 50, 65, 70, 71, 75, 90, 95, 100}));
}
